
workspace(name = "engine_ext")

# We need the engine project
local_repository(
    name = "engine",
    path = "../engine"
)

load("@//:repositories.bzl", "engine_ext_repositories")
engine_ext_repositories()

# # Load http archive support
# load("@bazel_tools//tools/build_defs/repo:http.bzl", "http_archive")

# # Load foreign rules (cmake)
# http_archive(
#    name = "rules_foreign_cc",
#    strip_prefix = "rules_foreign_cc-master",
#    url = "https://github.com/bazelbuild/rules_foreign_cc/archive/master.zip",
# )
# load("@rules_foreign_cc//:workspace_definitions.bzl", "rules_foreign_cc_dependencies")
# rules_foreign_cc_dependencies(["//:prebuilt_cmake_toolchain"])


# all_content = """filegroup(name = "all", srcs = glob(["**"]), visibility = ["//visibility:public"])"""

# http_archive(
#     name = "freetype",
#     build_file_content = all_content,
#     sha256 = "e6ffba3c8cef93f557d1f767d7bc3dee860ac7a3aaff588a521e081bc36f4c8a",
#     strip_prefix = "freetype-2.9",
#     urls = [
#         "https://mirror.bazel.build/download.savannah.gnu.org/releases/freetype/freetype-2.9.tar.bz2",
#         "https://download.savannah.gnu.org/releases/freetype/freetype-2.9.tar.bz2",
#     ],
# )

# http_archive(
#     name = "libpng",
#     build_file_content = all_content,
#     sha256 = "2f1e960d92ce3b3abd03d06dfec9637dfbd22febf107a536b44f7a47c60659f6",
#     strip_prefix = "libpng-1.6.34",
#     urls = [
#         "https://mirror.bazel.build/ftp-osl.osuosl.org/pub/libpng/src/libpng16/libpng-1.6.34.tar.xz",
#         "http://ftp-osl.osuosl.org/pub/libpng/src/libpng16/libpng-1.6.34.tar.xz",
#     ],
# )

# http_archive(
#     name = "zlib",
#     build_file_content = all_content,
#     sha256 = "c3e5e9fdd5004dcb542feda5ee4f0ff0744628baf8ed2dd5d66f8ca1197cb1a1",
#     strip_prefix = "zlib-1.2.11",
#     urls = [
#         "https://mirror.bazel.build/zlib.net/zlib-1.2.11.tar.gz",
#         "https://zlib.net/zlib-1.2.11.tar.gz",
#     ],
# )

# new_local_repository(
#     name = "bullet_osx",
#     path = "/usr/local/Cellar/bullet/2.89",
#     build_file_content = """
# cc_library(
# 	name = "bullet",
#     includes = ["lib", "include"],
#     srcs = glob(["**/*.dylib"]),
# 	hdrs = glob(["include/bullet/**/*.h"]),
# 	strip_include_prefix = "include/bullet",
#     visibility = ["//visibility:public"]
# )
#     """
# )

# new_local_repository(
#     name = "bullet",
#     path = ".",
#     build_file_content = """
# cc_library(
# 	name = "bullet",
#     deps = select({
# 		"@bazel_tools//src/conditions:darwin":["@bullet_osx//:bullet"] ,
# 		"//conditions:default": [],
# 	}),
#     visibility = ["//visibility:public"]
# )
#     """
# )


# new_local_repository(
#     name = "freetype_osx",
#     path = "/usr/local/Cellar/freetype/2.10.2",
#     build_file_content = """
# cc_library(
# 	name = "freetype",
#     includes = ["include/freetype2"],
#     srcs = glob(["**/*.dylib"]),
# 	hdrs = glob(["**/*.h"]),
#     visibility = ["//visibility:public"]
# )
#     """
# )

# new_local_repository(
#     name = "freetype",
#     path = ".",
#     build_file_content = """
# cc_library(
# 	name = "freetype",
#     deps = select({
# 		"@bazel_tools//src/conditions:darwin":["@freetype_osx//:freetype"] ,
# 		"//conditions:default": [],
# 	}),
#     visibility = ["//visibility:public"]
# )
#     """
# )

# http_archive(
#     name = "glfw",
#     build_file_content = all_content,
#     sha256 = "98768e12e615fbe9f3386f5bbfeb91b5a3b45a8c4c77159cef06b1f6ff749537",
#     strip_prefix = "glfw-3.3.2",
#     urls = [
#         "https://github.com/glfw/glfw/archive/3.3.2.tar.gz",
#     ],
# )